\hypertarget{pong_8hpp_source}{}\doxysection{pong.\+hpp}
\label{pong_8hpp_source}\index{examples/Pong/pong.hpp@{examples/Pong/pong.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <rpgui.hpp>}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{keyword}{using namespace }rpgui::type;}
\DoxyCodeLine{6 \textcolor{keyword}{using namespace }rpgui::common;}
\DoxyCodeLine{7 \textcolor{keyword}{using namespace }rpgui::colors;}
\DoxyCodeLine{8 \textcolor{keyword}{using namespace }rpgui::ui;}
\DoxyCodeLine{9 \textcolor{keyword}{using namespace }rpgui::layout;}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }Pong}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13     \textcolor{keyword}{enum} Buttons}
\DoxyCodeLine{14     \{}
\DoxyCodeLine{15         PaddleOneUp = 0,}
\DoxyCodeLine{16         PaddleOneDown,}
\DoxyCodeLine{17         PaddleTwoUp,}
\DoxyCodeLine{18         PaddleTwoDown,}
\DoxyCodeLine{19     \};}
\DoxyCodeLine{20     \textcolor{keyword}{enum class} CollisionType}
\DoxyCodeLine{21     \{}
\DoxyCodeLine{22         None,}
\DoxyCodeLine{23         Top,}
\DoxyCodeLine{24         Middle,}
\DoxyCodeLine{25         Bottom,}
\DoxyCodeLine{26         Left,}
\DoxyCodeLine{27         Right,}
\DoxyCodeLine{28     \};}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} buttons[4] = \{\};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{keyword}{const} \textcolor{keywordtype}{int} BALL\_RADIUS = 6;}
\DoxyCodeLine{33     \textcolor{keyword}{const} \textcolor{keywordtype}{int} PADDLE\_WIDTH = 8;}
\DoxyCodeLine{34     \textcolor{keyword}{const} \textcolor{keywordtype}{int} PADDLE\_HEIGHT = 60;}
\DoxyCodeLine{35     \textcolor{keyword}{const} \textcolor{keywordtype}{float} PADDLE\_SPEED = 1.8;}
\DoxyCodeLine{36     \textcolor{keyword}{const} \textcolor{keywordtype}{float} BALL\_SPEED = 1.3;}
\DoxyCodeLine{37     \textcolor{keyword}{const} \textcolor{keywordtype}{float} BALL\_ACCEL = 0.1;}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{40     \textcolor{keywordtype}{int} sgn(T val)}
\DoxyCodeLine{41     \{}
\DoxyCodeLine{42         \textcolor{keywordflow}{return} (T(0) < val) -\/ (val < T(0));}
\DoxyCodeLine{43     \}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_pong_1_1_contact}{Contact}}}
\DoxyCodeLine{46     \{}
\DoxyCodeLine{47         CollisionType type;}
\DoxyCodeLine{48         \textcolor{keywordtype}{float} penetration;}
\DoxyCodeLine{49     \};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{keyword}{class }\mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}}
\DoxyCodeLine{52     \{}
\DoxyCodeLine{53     \textcolor{keyword}{public}:}
\DoxyCodeLine{54         \textcolor{keywordtype}{float} x, y;}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}()}
\DoxyCodeLine{57             : x(0.0f), y(0.0f)}
\DoxyCodeLine{58         \{}
\DoxyCodeLine{59         \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y)}
\DoxyCodeLine{62             : x(x), y(y)}
\DoxyCodeLine{63         \{}
\DoxyCodeLine{64         \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} operator+(\mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} \textcolor{keyword}{const} \&rhs)}
\DoxyCodeLine{67         \{}
\DoxyCodeLine{68             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(x + rhs.x, y + rhs.y);}
\DoxyCodeLine{69         \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} \&operator+=(\mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} \textcolor{keyword}{const} \&rhs)}
\DoxyCodeLine{72         \{}
\DoxyCodeLine{73             x += rhs.x;}
\DoxyCodeLine{74             y += rhs.y;}
\DoxyCodeLine{75 }
\DoxyCodeLine{76             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{77         \}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} operator*(\textcolor{keywordtype}{float} rhs)}
\DoxyCodeLine{80         \{}
\DoxyCodeLine{81             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(x * rhs, y * rhs);}
\DoxyCodeLine{82         \}}
\DoxyCodeLine{83     \};}
\DoxyCodeLine{84 }
\DoxyCodeLine{85     \textcolor{keyword}{class }\mbox{\hyperlink{class_pong_1_1_player_score}{PlayerScore}}}
\DoxyCodeLine{86     \{}
\DoxyCodeLine{87     \textcolor{keyword}{public}:}
\DoxyCodeLine{88         \mbox{\hyperlink{classrpgui_1_1ui_1_1_label}{Label}} *label;}
\DoxyCodeLine{89 }
\DoxyCodeLine{90         \mbox{\hyperlink{class_pong_1_1_player_score}{PlayerScore}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{91         \mbox{\hyperlink{class_pong_1_1_player_score}{PlayerScore}}(\mbox{\hyperlink{classrpgui_1_1ui_1_1_label}{Label}} *label, \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} position, \mbox{\hyperlink{classrpgui_1_1layout_1_1_absolute_layout}{AbsoluteLayout}} \&view)}
\DoxyCodeLine{92             : label(label)}
\DoxyCodeLine{93         \{}
\DoxyCodeLine{94             view.AddElement(\mbox{\hyperlink{structrpgui_1_1type_1_1_point}{Point}}(position.x, position.y), label);}
\DoxyCodeLine{95         \}}
\DoxyCodeLine{96     \};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98     \textcolor{keyword}{class }\mbox{\hyperlink{class_pong_1_1_ball}{Ball}}}
\DoxyCodeLine{99     \{}
\DoxyCodeLine{100         \mbox{\hyperlink{classrpgui_1_1ui_1_1_circle}{rpgui::ui::Circle}} *circle = \textcolor{keyword}{new} \mbox{\hyperlink{classrpgui_1_1ui_1_1_circle}{rpgui::ui::Circle}}(\mbox{\hyperlink{structrpgui_1_1type_1_1_radius}{Radius}}(BALL\_RADIUS), Color::White);}
\DoxyCodeLine{101 }
\DoxyCodeLine{102     \textcolor{keyword}{public}:}
\DoxyCodeLine{103         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} position;}
\DoxyCodeLine{104         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} velocity;}
\DoxyCodeLine{105 }
\DoxyCodeLine{106         \mbox{\hyperlink{class_pong_1_1_ball}{Ball}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{107         \mbox{\hyperlink{class_pong_1_1_ball}{Ball}}(\mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} position, \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} velocity, \mbox{\hyperlink{classrpgui_1_1layout_1_1_absolute_layout}{AbsoluteLayout}} \&view)}
\DoxyCodeLine{108             : position(position), velocity(velocity)}
\DoxyCodeLine{109         \{}
\DoxyCodeLine{110             circle-\/>SetCenter(\mbox{\hyperlink{structrpgui_1_1type_1_1_point}{Point}}(position.x, position.y));}
\DoxyCodeLine{111             circle-\/>radius.v = BALL\_RADIUS;}
\DoxyCodeLine{112 }
\DoxyCodeLine{113             view.AddElement(\mbox{\hyperlink{structrpgui_1_1type_1_1_point}{Point}}(position.x, position.y), circle);}
\DoxyCodeLine{114         \}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116         \textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{117         \{}
\DoxyCodeLine{118             position += velocity;}
\DoxyCodeLine{119             circle-\/>SetCenter(\mbox{\hyperlink{structrpgui_1_1type_1_1_point}{Point}}(position.x, position.y));}
\DoxyCodeLine{120         \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122         \textcolor{keywordtype}{void} CollideWithPaddle(\mbox{\hyperlink{struct_pong_1_1_contact}{Contact}} \textcolor{keyword}{const} \&contact);}
\DoxyCodeLine{123 }
\DoxyCodeLine{124         \textcolor{keywordtype}{void} CollideWithWall(\mbox{\hyperlink{struct_pong_1_1_contact}{Contact}} \textcolor{keyword}{const} \&contact);}
\DoxyCodeLine{125     \};}
\DoxyCodeLine{126 }
\DoxyCodeLine{127     \textcolor{keyword}{class }\mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}}}
\DoxyCodeLine{128     \{}
\DoxyCodeLine{129         \mbox{\hyperlink{classrpgui_1_1ui_1_1_rectangle}{Rectangle}} *paddle = \textcolor{keyword}{new} \mbox{\hyperlink{classrpgui_1_1ui_1_1_rectangle}{Rectangle}}(\mbox{\hyperlink{structrpgui_1_1common_1_1_bounds}{Bounds}}(0, 0, 0, 0), Color::White);}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \textcolor{keyword}{public}:}
\DoxyCodeLine{132         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} position;}
\DoxyCodeLine{133         \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} velocity;}
\DoxyCodeLine{134 }
\DoxyCodeLine{135         \mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{136         \mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}}(\mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} position, \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}} velocity, \mbox{\hyperlink{classrpgui_1_1layout_1_1_absolute_layout}{AbsoluteLayout}} \&view)}
\DoxyCodeLine{137             : position(position), velocity(velocity)}
\DoxyCodeLine{138         \{}
\DoxyCodeLine{139             paddle-\/>\mbox{\hyperlink{classrpgui_1_1common_1_1_visual_element_a4290e9cdd0e89b07ff933d5f1c4ff86f}{SetBounds}}(\mbox{\hyperlink{structrpgui_1_1common_1_1_bounds}{Bounds}}(position.x, position.y, PADDLE\_WIDTH, PADDLE\_HEIGHT));}
\DoxyCodeLine{140             view.AddElement(\mbox{\hyperlink{structrpgui_1_1type_1_1_point}{Point}}(position.x, position.y), paddle);}
\DoxyCodeLine{141         \}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143         \textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{144         \{}
\DoxyCodeLine{145             position += velocity;}
\DoxyCodeLine{146 }
\DoxyCodeLine{147             \textcolor{keywordflow}{if} (position.y < 0)}
\DoxyCodeLine{148             \{}
\DoxyCodeLine{149                 \textcolor{comment}{// Restrict to top of the screen}}
\DoxyCodeLine{150                 position.y = 0.0f;}
\DoxyCodeLine{151             \}}
\DoxyCodeLine{152             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (position.y > (HEIGHT -\/ PADDLE\_HEIGHT))}
\DoxyCodeLine{153             \{}
\DoxyCodeLine{154                 \textcolor{comment}{// Restrict to bottom of the screen}}
\DoxyCodeLine{155                 position.y = HEIGHT -\/ PADDLE\_HEIGHT;}
\DoxyCodeLine{156             \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158             \textcolor{keyword}{auto} b = paddle-\/>\mbox{\hyperlink{classrpgui_1_1common_1_1_visual_element_ad8a190f6bd967680db8b75ca95adc438}{GetBounds}}();}
\DoxyCodeLine{159             b.x = position.x;}
\DoxyCodeLine{160             b.y = position.y;}
\DoxyCodeLine{161             paddle-\/>\mbox{\hyperlink{classrpgui_1_1common_1_1_visual_element_a4290e9cdd0e89b07ff933d5f1c4ff86f}{SetBounds}}(b);}
\DoxyCodeLine{162         \}}
\DoxyCodeLine{163     \};}
\DoxyCodeLine{164 }
\DoxyCodeLine{165     \textcolor{keyword}{class }\mbox{\hyperlink{class_pong_1_1_pong_game}{PongGame}}}
\DoxyCodeLine{166     \{}
\DoxyCodeLine{167         \mbox{\hyperlink{classrpgui_1_1layout_1_1_absolute_layout}{AbsoluteLayout}} view;}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \textcolor{keyword}{public}:}
\DoxyCodeLine{170         uint8\_t playerOneScoreVal = 0, playerTwoScoreVal = 0;}
\DoxyCodeLine{171         \mbox{\hyperlink{class_pong_1_1_player_score}{PlayerScore}} playerOneScore, playerTwoScore;}
\DoxyCodeLine{172         \mbox{\hyperlink{class_pong_1_1_ball}{Ball}} ball;}
\DoxyCodeLine{173         \mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}} paddleOne, paddleTwo;}
\DoxyCodeLine{174 }
\DoxyCodeLine{175         \mbox{\hyperlink{class_pong_1_1_pong_game}{PongGame}}()}
\DoxyCodeLine{176             : view(\mbox{\hyperlink{classrpgui_1_1layout_1_1_absolute_layout}{AbsoluteLayout}}())}
\DoxyCodeLine{177         \{}
\DoxyCodeLine{178         \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180         \mbox{\hyperlink{classrpgui_1_1layout_1_1_absolute_layout}{AbsoluteLayout}} *GetView() \{ \textcolor{keywordflow}{return} \&view; \}}
\DoxyCodeLine{181 }
\DoxyCodeLine{182         \textcolor{keywordtype}{void} Init()}
\DoxyCodeLine{183         \{}
\DoxyCodeLine{184             \textcolor{comment}{// Create the player score text fields}}
\DoxyCodeLine{185             this-\/>playerOneScore = \mbox{\hyperlink{class_pong_1_1_player_score}{PlayerScore}}(\textcolor{keyword}{new} \mbox{\hyperlink{classrpgui_1_1ui_1_1_label}{Label}}(\textcolor{stringliteral}{"{}0"{}}), \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(WIDTH/5, 10), view);}
\DoxyCodeLine{186             this-\/>playerTwoScore = \mbox{\hyperlink{class_pong_1_1_player_score}{PlayerScore}}(\textcolor{keyword}{new} \mbox{\hyperlink{classrpgui_1_1ui_1_1_label}{Label}}(\textcolor{stringliteral}{"{}0"{}}), \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(WIDTH*4/5, 10), view);}
\DoxyCodeLine{187 }
\DoxyCodeLine{188             \textcolor{comment}{// Create the ball}}
\DoxyCodeLine{189             this-\/>ball = \mbox{\hyperlink{class_pong_1_1_ball}{Ball}}(}
\DoxyCodeLine{190                 \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(WIDTH / 2, HEIGHT / 2),}
\DoxyCodeLine{191                 \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(1.0f, 0.0f),}
\DoxyCodeLine{192                 view);}
\DoxyCodeLine{193 }
\DoxyCodeLine{194             \textcolor{comment}{// Create the paddles}}
\DoxyCodeLine{195             this-\/>paddleOne = \mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}}(}
\DoxyCodeLine{196                 \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(20.0f, (HEIGHT / 2) -\/ (PADDLE\_HEIGHT / 2)),}
\DoxyCodeLine{197                 \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(),}
\DoxyCodeLine{198                 view);}
\DoxyCodeLine{199 }
\DoxyCodeLine{200             this-\/>paddleTwo = \mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}}(}
\DoxyCodeLine{201                 \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(WIDTH -\/ 20.0f, (HEIGHT / 2) -\/ (PADDLE\_HEIGHT / 2)),}
\DoxyCodeLine{202                 \mbox{\hyperlink{class_pong_1_1_vec2}{Vec2}}(),}
\DoxyCodeLine{203                 view);}
\DoxyCodeLine{204         \}}
\DoxyCodeLine{205 }
\DoxyCodeLine{206         \textcolor{keywordtype}{void} Update();}
\DoxyCodeLine{207 }
\DoxyCodeLine{208     \textcolor{keyword}{private}:}
\DoxyCodeLine{209         \mbox{\hyperlink{struct_pong_1_1_contact}{Contact}} CheckPaddleCollision(\mbox{\hyperlink{class_pong_1_1_ball}{Ball}} \textcolor{keyword}{const} \&ball, \mbox{\hyperlink{class_pong_1_1_paddle}{Paddle}} \textcolor{keyword}{const} \&paddle);}
\DoxyCodeLine{210 }
\DoxyCodeLine{211         \mbox{\hyperlink{struct_pong_1_1_contact}{Contact}} CheckWallCollision(\mbox{\hyperlink{class_pong_1_1_ball}{Ball}} \textcolor{keyword}{const} \&ball);}
\DoxyCodeLine{212 }
\DoxyCodeLine{213         \textcolor{keywordtype}{void} ProcessButtons();}
\DoxyCodeLine{214     \};}
\DoxyCodeLine{215 }
\DoxyCodeLine{216 \}}

\end{DoxyCode}
